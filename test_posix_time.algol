fn main() -> i64 {
  fd: i64 = open("test_time_file.txt", O_CREAT | O_WRONLY, 0644);

  if (fd == -1) {
    return 1;
  }

  write(fd, "Test file for time operations\n", 31);
  close(fd);

  timevals: i64[] = [1000000000, 0, 1000000001, 0];

  result: i64 = utimes("test_time_file.txt", timevals);

  if (result == -1) {
    unlink("test_time_file.txt");
    return 2;
  }

  fd = open("test_time_file.txt", O_RDONLY, 0);

  if (fd == -1) {
    unlink("test_time_file.txt");
    return 3;
  }

  result = futimes(fd, timevals);

  if (result == -1) {
    close(fd);
    unlink("test_time_file.txt");
    return 4;
  }

  close(fd);

  unlink("test_time_file.txt");

  return 0;
}